version: "3.0"

rules:

- rule: tell instruction of Simon says
  steps:
  - intent: how_to_play_Simon_says
  - action: utter_tell_SimonSays_instruction

- rule: tell instruction of Scissor Paper Stone
  steps:
  - intent: how_to_play_SPS
  - action: utter_tell_SPS_instruction

- rule: tell instruction of Word of the day
  steps:
  - intent: how_to_play_Word_of_the_day
  - action: utter_tell_WordOfTheDay_instruction

- rule: tell available games
  steps:
  - intent: ask_available_game
  - action: utter_tell_available_game

- rule: tell a fun fact
  steps:
  - intent: play_Fun_fact
  - action: action_tell_fun_fact

- rule: Activate Pronunciation form
  steps:
  - action: action_play_game
  - slot_was_set:
    - game_choice: Word of the day
  - intent: affirm
  - action: pronunciation_form
  - active_loop: pronunciation_form

- rule: Submit Pronunciation form
  condition:
  - active_loop: pronunciation_form
  steps:
  - action: pronunciation_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - intent: deny
  - action: action_exit_game_mode
  - action: utter_quit_game

- rule: Submit Pronunciation form
  condition:
  - active_loop: pronunciation_form
  steps:
  - action: pronunciation_form
  - active_loop: null
  - slot_was_set:
    - requested_slot: null
  - intent: affirm
  - action: action_enter_game_mode
  - action: action_play_game


- rule: quit game
  steps:
  - slot_was_set:
    - game_mode: true
  - intent: quit_game
  - action: action_exit_game_mode
  - action: utter_quit_game


- rule: User interrupts the pronunciaiton form and doesn't want to continue
  steps:
  - action: pronunciation_form
  - active_loop: pronunciation_form
  - slot_was_set:
    - word_spoken: quit
  - intent: affirm
  - action: action_deactivate_loop
  - action: action_exit_game_mode
  - action: utter_quit_game